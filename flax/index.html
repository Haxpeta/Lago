<!DOCTYPE html>
<html lang="cn">
  <head><meta name="generator" content="Hexo 3.8.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">

<meta name="theme-color" content="#f8f5ec">
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="flax">













  <link rel="alternate" href="/Lago/atom.xml" title="Lago">




  <link rel="shortcut icon" type="image/x-icon" href="/Lago/favicon.ico?v=2.10.2">



<link rel="canonical" href="https://memorytoco.github.io/Lago/flax/">



  <link rel="stylesheet" type="text/css" href="/Lago/lib/fancybox/jquery.fancybox.css">




  <link rel="stylesheet" type="text/css" href="/Lago/lib/nprogress/nprogress.min.css">



<link rel="stylesheet" type="text/css" href="/Lago/css/style.css?v=2.10.2">



  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>









<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":true};
</script>

    <title> flax - Lago </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/Lago/." class="logo">Lago</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/Lago/">
        <li class="mobile-menu-item">
          
          
            首页
          
        </li>
      </a>
    
      <a href="/Lago/archives/">
        <li class="mobile-menu-item">
          
          
            归档
          
        </li>
      </a>
    
      <a href="/Lago/tags">
        <li class="mobile-menu-item">
          
          
            标签
          
        </li>
      </a>
    
      <a href="/Lago/categories">
        <li class="mobile-menu-item">
          
          
            分类
          
        </li>
      </a>
    
      <a href="/Lago/about">
        <li class="mobile-menu-item">
          
          
            关于
          
        </li>
      </a>
    
      <a href="/Lago/flax">
        <li class="mobile-menu-item">
          
          
            Flax
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/Lago/." class="logo">Lago</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/Lago/">
            
            
              首页
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/Lago/archives/">
            
            
              归档
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/Lago/tags">
            
            
              标签
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/Lago/categories">
            
            
              分类
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/Lago/about">
            
            
              关于
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/Lago/flax">
            
            
              Flax
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  <article class="post">
    <div class="post-content">
      <h1 id="关于-flax"><a href="#关于-flax" class="headerlink" title="关于 flax"></a>关于 flax</h1><h2 id="flax-工作流程-改进计划"><a href="#flax-工作流程-改进计划" class="headerlink" title="flax 工作流程 + 改进计划"></a>flax 工作流程 + 改进计划</h2><p>目前 flax 的目标是能够最大限度的给予用户自由并且提供充足的 api 来减轻<br>用户的负担.</p>
<h3 id="reader-–-gt-parser-可能对源文件做一些改变-将结果存储到-cache-中"><a href="#reader-–-gt-parser-可能对源文件做一些改变-将结果存储到-cache-中" class="headerlink" title="reader –&gt; parser(可能对源文件做一些改变,将结果存储到 cache 中)"></a>reader –&gt; parser(可能对源文件做一些改变,将结果存储到 cache 中)</h3><blockquote>
<p>用于读取原 post 并把它转化成 sxml<br>现在 parser 将源文件编译,获取最原始数据,比如 metadata 和 content 这些.<br>最好是将这些东西具体存储在某些地方,目前来说最好的就是 chain 里的 data 域中.<br>对于一些不是 post 的东西也可以用它来 parse.</p>
</blockquote>
<p>parser 可能的域:</p>
<ul>
<li>type ==&gt; 类别,用于识别源文件. (是一个点对 前面的是一个符号,后面的是一个识别程序)</li>
<li>proc ==&gt; 用于处理源文件,提取原始信息,将其转化成 sxml.</li>
<li>resr ==&gt; 数据,用来存放提取的信息. 不仅仅是 metadata 和文件内容,还包括更加基础的信息.</li>
<li>refp ==&gt; 精炼函数,处理源文件,更 新它的信息.</li>
</ul>
<p>其本身可能会有多段的分析组合</p>
<hr>
<h3 id="post-–-gt-扩大"><a href="#post-–-gt-扩大" class="headerlink" title="post –&gt; 扩大"></a>post –&gt; 扩大</h3><blockquote>
<p>用于构建基本的 post 组件</p>
</blockquote>
<blockquote>
<p>现在将把 metadata 转换为具体的一些东西,用作内部构建使用</p>
</blockquote>
<p>可能的域:</p>
<ul>
<li>meta ==&gt; 文件的信息,不是 post 的信息. 比如修改时间,具体的路径文件名.</li>
<li>cont ==&gt; 处理后的 post 内容</li>
<li>attr (属性) ==&gt; 用来解释其在博客中的一些关系,包括该文的类型,分布.</li>
</ul>
<p>此时 post 和 parser 组成了整个前端,完成一个源文件的分析更新工作.</p>
<hr>
<h3 id="renderer-是-page-的一个组成部分"><a href="#renderer-是-page-的一个组成部分" class="headerlink" title="renderer : 是 page 的一个组成部分"></a>renderer : 是 page 的一个组成部分</h3><blockquote>
<p>渲染, 针对特定的 page 进行特定的处理,对 post 的数据进行封装</p>
</blockquote>
<p>renderer 可能的域:</p>
<ul>
<li>type ==&gt; 限定 rendre 对 page 的接口.</li>
<li>proc ==&gt; 具体的处理函数,由 process 组成,可能嵌套 (可以用 chain 来实现)</li>
<li>data ==&gt; 返回的数据, 用来与 page 对接,包含了一些 post 的数据</li>
</ul>
<hr>
<h3 id="page"><a href="#page" class="headerlink" title="page"></a>page</h3><blockquote>
<p>用于将每个 post 渲染后写入目标文件</p>
</blockquote>
<blockquote>
<p>现在将其拆分并且扩充它的职能.</p>
</blockquote>
<p>可能的域:</p>
<ul>
<li>cont ==&gt; 完整的页面</li>
<li>comt ==&gt; 页面的组成部分, 每个可能都会有一个 render 来渲染</li>
<li><p>proc ==&gt; 具体的页面写入函数 (这个一般只有一个而且固定的)</p>
<p>页面渲染首先是渲染部件,然后再组合,comt 由 render 来渲染,cont 由具体的 page 的 proc 来处理</p>
</li>
</ul>
<hr>
<h3 id="site-对博客的整体配置"><a href="#site-对博客的整体配置" class="headerlink" title="site 对博客的整体配置"></a>site 对博客的整体配置</h3><blockquote>
<p>目前对他的作用感到迷茫, 感觉之后可以用作整个博客的架构,但是目前没有起到什么作用</p>
</blockquote>
<p>可能的域:</p>
<ul>
<li>layout ==&gt; 网站布局, 是具体的文件集对网站组成部分的对应关系.</li>
<li>comt ==&gt; 组件,比如个人介绍页, 资源页等,网站的组成. 构建方式是由一个个组件放入layout中</li>
<li>attr ==&gt; 具体的文件配置属性k</li>
</ul>
<hr>
<h3 id="hook-系统-有必要继续扩展的-甚至可以基于这个构建出那种响应式的系统"><a href="#hook-系统-有必要继续扩展的-甚至可以基于这个构建出那种响应式的系统" class="headerlink" title="hook 系统 (有必要继续扩展的),甚至可以基于这个构建出那种响应式的系统"></a>hook 系统 (有必要继续扩展的),甚至可以基于这个构建出那种响应式的系统</h3><blockquote>
<p>一定要物尽其用,改进后的这个系统相对于原来的基于 siteobj 的系统优势很大<br>有必要继续扩大其作用. 仔细想想.</p>
</blockquote>
<hr>
<h3 id="trigger-系统"><a href="#trigger-系统" class="headerlink" title="trigger 系统"></a>trigger 系统</h3><blockquote>
<p>触发系统, 更加强大</p>
</blockquote>
<hr>
<h3 id="插件系统"><a href="#插件系统" class="headerlink" title="插件系统"></a>插件系统</h3><blockquote>
<p>开发额外的插件, 提供额外的命令, 不一定只有 build 命令,目前不会多想</p>
</blockquote>
<hr>
<h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><p>首先 parser 读取源文件,得到初始数据,将其存于自己的 resr 域中. 然后交由 post 对数据进一步处理,得到完整的 post sxml 数据以及相关的原始文件及属性如 tag 这类.在处理过程中对全局的数据进行更新.</p>
<p>重构</p>
<ul>
<li>site<ul>
<li>site 的目标文件夹</li>
<li>componment<blockquote>
<p>用来描述博客共分为几个部分</p>
</blockquote>
</li>
<li>special page<blockquote>
<p>对于 post 都会有对应的 reader 来进行渲染,但是对于一个 index 入口文件来说没有一个合适的位置,用这个来为某些特殊的页面进行设置.</p>
</blockquote>
</li>
<li>util<blockquote>
<p>可以用来存放 asset 这样的东西,asset 也值得拓展</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h2 id="flax-的展望"><a href="#flax-的展望" class="headerlink" title="flax 的展望"></a>flax 的展望</h2><ul>
<li>考虑加入缓存系统(由于目前用来生成博客的,页面不会超过一两百,所以这里不是为了更加快速而是更加智能)</li>
</ul>

    </div>
  </article>

          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:memorytoco@gmail.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
        
          <a href="https://github.com/memorytoco" class="iconfont icon-github" title="github"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    

    
      <a href="/Lago/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>



<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://hexo.io/">Hexo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
    
    2019

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Memorytoco</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  
  

  



    
  



  
  





  
    <script type="text/javascript" src="/Lago/lib/jquery/jquery.min.js"></script>
  

  
    <script type="text/javascript" src="/Lago/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/Lago/lib/fancybox/jquery.fancybox.pack.js"></script>
  

  
    <script type="text/javascript" src="/Lago/lib/pjax/jquery.pjax.min.js"></script>
  

  
    <script type="text/javascript" src="/Lago/lib/nprogress/nprogress.min.js"></script>
  


    <script type="text/javascript" src="/Lago/js/src/even.js?v=2.10.2"></script>

  </body>
</html>
